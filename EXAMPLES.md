# 🎮 사용 예제 및 데모

## 📋 목차

1. [기본 사용법](#기본-사용법)
2. [대화 예제](#대화-예제)
3. [퀘스트 생성 예제](#퀘스트-생성-예제)
4. [친밀도 변화 예제](#친밀도-변화-예제)
5. [고급 기능 예제](#고급-기능-예제)

## 🚀 기본 사용법

### 1. 시스템 시작

```bash
# 저장소 클론
git clone https://github.com/deoksangryu/npc-llm-with-EXAONE.git
cd npc-llm-with-EXAONE

# 의존성 설치
pip install -r requirements.txt

# 시스템 실행
python npc_llm_v1_final.py
```

### 2. NPC 선택

시스템이 시작되면 다음과 같은 NPC 선택 화면이 나타납니다:

```
🎮 NPC 대화 시스템 v1 Final
==================================================
🤖 대화할 NPC를 선택하세요:
  1. 리나 인버스 - 세이룬 왕국의 젊은 마법사. 모험을 좋아하고 항상 새로운 마법을 연구한다.
  2. 제르가디스 - 키메라의 저주를 받은 검사. 자신의 원래 모습을 되찾기 위해 노력한다.
  3. 아멜리아 - 세이룬 왕국의 공주. 정의를 실현하기 위해 모험을 떠난다.

선택 (1-3): 1
```

### 3. 사용자 프로필 설정

```
👤 사용자 정보를 입력하세요:
이름: 모험가
레벨 (기본 5): 10
```

### 4. 대화 시작

```
💬 NPC 대화 시스템 시작!
🤖 NPC: 리나 인버스
👤 사용자: 모험가
--------------------------------------------------
💡 팁: 'quit', 'exit', '종료' 입력 시 종료
💡 팁: 'debug on/off'로 추론 과정 표시 토글
💡 팁: 'status'로 현재 친밀도 확인
--------------------------------------------------

🤖 리나 인버스: 안녕하세요! 저는 리나 인버스입니다. 무엇을 도와드릴까요?

👤 모험가: 안녕하세요! 저는 누구인가요?
```

## 💬 대화 예제

### 예제 1: Identity Question 처리

**사용자 입력**: "저는 누구인가요?"

**시스템 분석**:
```
🧠 === SIMPLE REASONING PROCESS ===
🔍 Step 1: Advanced Intent & Identity Analysis
   📊 의도 분석: identity_question
   🎯 사용자 맥락: 분석 신뢰도: 0.9
   💭 감정 분석: neutral (신뢰도: 0.50)
   🆔 Identity 질문: 플레이어 자신에 대한 질문
💘 Step 2: Intimacy Update
   📈 친밀도 변화: 0.00 → 0.00 (중립적)
🤖 Step 3: Response Generation
✅ === REASONING COMPLETE ===
```

**NPC 응답**:
```
🤖 리나 인버스: 당신은 모험가입니다. 레벨 10의 경험 많은 모험가로, 세이룬 마을에서 활동하고 계시는군요!
```

### 예제 2: 퀘스트 요청

**사용자 입력**: "쉬운 퀘스트를 주세요"

**시스템 분석**:
```
🧠 === SIMPLE REASONING PROCESS ===
🔍 Step 1: Advanced Intent & Identity Analysis
   📊 의도 분석: quest_request
   🎯 사용자 맥락: 분석 신뢰도: 0.8
   💭 감정 분석: positive (신뢰도: 0.70)
   🗡️ 퀘스트 요청: any 타입
   📊 선호 난이도: easy
   🎨 선호 테마: any
   📝 구체적 요구: 쉬운 퀘스트를 주세요
💘 Step 2: Intimacy Update
   📈 친밀도 변화: 0.00 → 0.04 (호감)
🤖 Step 3: Response Generation
✅ === REASONING COMPLETE ===
```

**NPC 응답**:
```
🤖 리나 인버스: 네! 모험가님께 딱 맞는 쉬운 퀘스트를 드릴게요!

📋 ===== 퀘스트 제안 =====
🎯 제목: 마을의 잃어버린 고양이 찾기
📖 설명: 세이룬 마을의 주민이 잃어버린 고양이를 찾아달라고 부탁했습니다. 마을 주변을 돌아다니며 고양이를 찾아주세요. 고양이는 보통 마을 광장 근처나 상점 뒤편에 숨어있을 때가 많습니다.
⚡ 난이도: 쉬움
🎯 목표:
   1. 마을 주변을 탐색하여 고양이 찾기
   2. 고양이를 주인에게 데려다주기
🎁 보상:
   💰 골드: 50
   ⭐ 경험치: 100
   🎒 아이템: [고양이 간식]
==================================
```

### 예제 3: 정보 요청

**사용자 입력**: "마법에 대해 알려주세요"

**시스템 분석**:
```
🧠 === SIMPLE REASONING PROCESS ===
🔍 Step 1: Advanced Intent & Identity Analysis
   📊 의도 분석: info_request
   🎯 사용자 맥락: 분석 신뢰도: 0.7
   💭 감정 분석: neutral (신뢰도: 0.50)
💘 Step 2: Intimacy Update
   📈 친밀도 변화: 0.04 → 0.04 (호감)
🤖 Step 3: Response Generation
✅ === REASONING COMPLETE ===
```

**NPC 응답**:
```
🤖 리나 인버스: 마법에 대해 궁금하시군요! 마법은 이 세계의 핵심 요소 중 하나입니다. 

마법은 크게 네 가지 속성으로 나뉩니다:
- 🔥 화염 마법: 공격력이 뛰어나지만 제어가 어려워요
- 💧 물 마법: 유연하고 다양한 용도로 활용 가능해요
- 🌪️ 바람 마법: 빠르고 정확한 공격에 특화되어 있어요
- 🌍 대지 마법: 방어와 지속력이 뛰어나요

저는 주로 화염 마법을 연구하고 있어요. 특히 드래곤 슬레이브라는 강력한 화염 마법을 자주 사용하지요!
```

## 📋 퀘스트 생성 예제

### 예제 1: 쉬운 퀘스트

**사용자 요청**: "쉬운 퀘스트"

**생성된 퀘스트**:
```json
{
  "title": "마을의 잃어버린 고양이 찾기",
  "description": "세이룬 마을의 주민이 잃어버린 고양이를 찾아달라고 부탁했습니다.",
  "difficulty": "쉬움",
  "objectives": [
    "마을 주변을 탐색하여 고양이 찾기",
    "고양이를 주인에게 데려다주기"
  ],
  "rewards": {
    "gold": 50,
    "xp": 100,
    "items": ["고양이 간식"]
  }
}
```

### 예제 2: 어려운 퀘스트

**사용자 요청**: "위험한 모험 퀘스트"

**생성된 퀘스트**:
```json
{
  "title": "고대 유적의 보물 탐험",
  "description": "고대 마법사들이 남긴 유적에서 강력한 마법서를 찾아달라는 의뢰입니다.",
  "difficulty": "매우어려움",
  "objectives": [
    "고대 유적 입구 찾기",
    "유적 내부의 함정 피해가기",
    "고대 마법서 획득하기",
    "유적에서 안전히 탈출하기"
  ],
  "rewards": {
    "gold": 500,
    "xp": 1000,
    "items": ["고대 마법서", "마법사의 지팡이"]
  }
}
```

### 예제 3: 마법 테마 퀘스트

**사용자 요청**: "마법과 관련된 퀘스트"

**생성된 퀘스트**:
```json
{
  "title": "마법 재료 수집",
  "description": "마법 연구를 위한 희귀한 재료들을 수집해달라는 부탁입니다.",
  "difficulty": "보통",
  "objectives": [
    "달빛 꽃 5개 수집",
    "마법 크리스탈 3개 획득",
    "고대 마법사의 일지 찾기"
  ],
  "rewards": {
    "gold": 200,
    "xp": 400,
    "items": ["마법 포션", "마법 스크롤"]
  }
}
```

## 💘 친밀도 변화 예제

### 예제 1: 긍정적 감정

**사용자 입력**: "정말 고마워요! 당신은 최고의 친구예요!"

**친밀도 변화**:
```
💘 Step 2: Intimacy Update
   📈 친밀도 변화: 0.04 → 0.09 (호감)
```

**NPC 응답 변화**:
```
🤖 리나 인버스: 와! 정말 고마워요! 저도 모험가님을 친구로 생각하고 있어요! 
같이 더 많은 모험을 떠나면 좋겠어요! 😊
```

### 예제 2: 부정적 감정

**사용자 입력**: "이 퀘스트는 너무 어려워요. 싫어요!"

**친밀도 변화**:
```
💘 Step 2: Intimacy Update
   📈 친밀도 변화: 0.09 → 0.06 (호감)
```

**NPC 응답 변화**:
```
🤖 리나 인버스: 아, 죄송해요! 제가 너무 어려운 퀘스트를 드렸나 보네요. 
다음에는 모험가님께 맞는 퀘스트를 드릴게요.
```

### 예제 3: 친밀도 레벨별 말투 변화

**친밀도 -0.5 (경계)**:
```
🤖 리나 인버스: 무슨 일이신가요? 별로 할 말이 없네요.
```

**친밀도 0.0 (중립적)**:
```
🤖 리나 인버스: 안녕하세요. 무엇을 도와드릴까요?
```

**친밀도 0.5 (친밀함)**:
```
🤖 리나 인버스: 오! 모험가님, 반가워요! 오늘은 어떤 일이 있으신가요?
```

**친밀도 0.8 (매우 친밀함)**:
```
🤖 리나 인버스: 아! 모험가, 또 왔구나~ 정말 반가워! 오늘은 뭐해?
```

## 🔧 고급 기능 예제

### 예제 1: 디버그 모드

**명령어**: `debug on`

**출력**:
```
🧠 디버그 모드 활성화

👤 모험가: 마법에 대해 알려주세요

🧠 === SIMPLE REASONING PROCESS ===
🔍 Step 1: Advanced Intent & Identity Analysis
   📊 의도 분석: info_request
   🎯 사용자 맥락: 분석 신뢰도: 0.7
   💭 감정 분석: neutral (신뢰도: 0.50)
💘 Step 2: Intimacy Update
   📈 친밀도 변화: 0.06 → 0.06 (호감)
🤖 Step 3: Response Generation
✅ === REASONING COMPLETE ===

🤖 리나 인버스: 마법에 대해 궁금하시군요!...
```

### 예제 2: 상태 확인

**명령어**: `status`

**출력**:
```
📊 현재 친밀도: 0.06 (호감)
```

### 예제 3: 시스템 명령어

**종료 명령어**:
```
👤 모험가: quit

👋 대화를 종료합니다. 안녕히 가세요!
```

## 🎯 실제 사용 시나리오

### 시나리오 1: 새로운 플레이어

1. **시스템 시작**: `python npc_llm_v1_final.py`
2. **NPC 선택**: 리나 인버스 선택
3. **프로필 설정**: 이름 "신입 모험가", 레벨 1
4. **첫 대화**: "안녕하세요!"
5. **퀘스트 요청**: "쉬운 퀘스트 주세요"
6. **퀘스트 완료**: 친밀도 상승
7. **정보 요청**: "마법에 대해 알려주세요"

### 시나리오 2: 경험 많은 플레이어

1. **시스템 시작**: 기존 세션 로드
2. **친밀도 확인**: `status` 명령어
3. **고급 퀘스트**: "위험한 모험 퀘스트"
4. **복잡한 대화**: "고대 마법에 대해 설명해주세요"
5. **감정 표현**: "당신은 정말 훌륭한 친구예요!"

### 시나리오 3: 문제 해결

1. **오류 발생**: LLM 응답 실패
2. **폴백 시스템**: 키워드 기반 분석 자동 실행
3. **안정적 응답**: 기본 기능 유지
4. **디버그 모드**: `debug on`으로 문제 분석
5. **시스템 복구**: 자동 오류 복구

## 📊 성능 지표 예제

### 정확도 측정

**Identity Question 처리**:
- **이전**: 20% 정확도
- **현재**: 80% 정확도 (4배 개선)

**퀘스트 다양성**:
- **이전**: 동일 퀘스트 반복
- **현재**: 100% 다양한 퀘스트 생성

### 응답 시간 측정

**평균 응답 시간**:
- **의도 분석**: 0.5초
- **LLM 응답 생성**: 2.0초
- **전체 처리**: 2.5초

### 메모리 사용량

**4bit 양자화 적용**:
- **모델 크기**: 50% 감소
- **메모리 사용량**: 8GB → 4GB
- **성능 유지**: 정확도 손실 < 5%

---

이 예제들은 NPC 대화 시스템 v1 Final의 다양한 기능과 사용법을 보여줍니다. 실제 사용 시에는 더욱 자연스럽고 맥락에 맞는 대화가 이루어집니다. 